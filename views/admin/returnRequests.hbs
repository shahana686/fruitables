<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Return Requests</title>
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <!-- Optional Navbar -->
  <nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Admin Panel</a>
    </div>
  </nav>

  <div class="container">
    <h2 class="mb-4">Return Requests</h2>

    {{!-- {{#each returnOrders}}
      <div class="card mb-4 shadow-sm         {{#ifEquals this.returnStatus 'Approved'}}border-success
        {{else ifEquals this.returnStatus 'Rejected'}}border-danger
        {{else}}border-secondary{{/ifEquals}}">
        <div class="card-body">
          <p><strong>Order ID:</strong> {{this._id}}</p>
          <p><strong>User:</strong> {{this.user.name}} ({{this.user.email}})</p>
          <p><strong>Reason:</strong> {{this.returnReason}}</p>

          <div class="d-flex gap-2">
            
           <form action="/admin/returns/{{this._id}}/approve" method="POST" class="d-inline"
      onsubmit="return confirm('Are you sure you want to approve this return?')">
  <button class="btn btn-success">Approve</button>
</form>


    <form action="/admin/returns/{{this._id}}/reject" method="POST" class="d-inline"
      onsubmit="return confirm('Are you sure you want to reject this return?')">
  <button class="btn btn-danger">Reject</button>
</form>
          </div>
        </div>
      </div>
    {{else}}
      <div class="alert alert-info">No return requests at the moment.</div>
    {{/each}} --}}  
{{!-- 2 --}}
{{!-- 
{{#each returnRequests}}
  <div class="card mb-4 shadow-sm border-secondary">
    <div class="card-body">
      <p><strong>Order ID:</strong> {{this.orderId}}</p>
      <p><strong>Product:</strong> {{this.productName}}</p>
      <img src="{{this.productImage}}" class="mb-2" width="100" />
      <p><strong>User:</strong> {{this.user.name}} ({{this.user.email}})</p>
      <p><strong>Reason:</strong> {{this.reason}}</p>

      <form action="/admin/returns/{{this.orderId}}/product/{{this.productId}}/approve" method="POST" class="d-inline">
        <button class="btn btn-success">Approve</button>
      </form>
      <form action="/admin/returns/{{this.orderId}}/product/{{this.productId}}/reject" method="POST" class="d-inline">
        <button class="btn btn-danger">Reject</button>
      </form>
    </div>
  </div>
{{else}}
  <div class="alert alert-info">No return requests yet.</div>
{{/each}} --}}
{{#each returnRequests}}
  <div class="card mb-4 shadow-sm 
    {{#ifEquals this.status 'Approved'}}border-success
    {{else ifEquals this.status 'Rejected'}}border-danger
    {{else}}border-secondary{{/ifEquals}}">
    <div class="card-body">
      <p><strong>Order ID:</strong> {{this.orderId}}</p>
      <p><strong>Product:</strong> {{this.productName}}</p>
      <img src="{{this.productImage}}" class="mb-2" width="100" />
      <p><strong>User:</strong> {{this.user.name}} ({{this.user.email}})</p>
      <p><strong>Reason:</strong> {{this.reason}}</p>

      {{#ifEquals this.status 'Requested'}}
        <form action="/admin/returns/{{this.orderId}}/product/{{this.productId}}/approve" method="POST" class="d-inline">
          <button class="btn btn-success">Approve</button>
        </form>
        <form action="/admin/returns/{{this.orderId}}/product/{{this.productId}}/reject" method="POST" class="d-inline">
          <button class="btn btn-danger">Reject</button>
        </form>
      {{else}}
        <p><strong>Status:</strong> {{this.status}}</p>
        <p><strong>Reply:</strong> {{this.reply}}</p>
      {{/ifEquals}}
    </div>
  </div>
{{else}}
  <div class="alert alert-info">No return requests found.</div>
{{/each}}


  </div>

  <!-- Bootstrap JS (for modal or alerts if needed later) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
